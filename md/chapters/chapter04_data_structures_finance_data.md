# 第4章 复合数据类型与金融数据组织（章节文档）

## 1. 章节定位

本章解决“单个变量不够用”的问题，建立金融数据组织与管理能力。

## 2. 目录结构

1. 列表、元组：时间序列数据
2. 字典：金融产品属性与参数管理
3. 集合：去重与风险事件分析
4. 案例：多资产收益数据管理
5. 本章小结与结构选择训练

## 3. 内容介绍

### 3.1 列表与元组
- 用日收益率序列、月度净值序列讲解列表操作。
- 说明元组在“不可变参数配置”中的价值。
- 对比索引访问与切片在时间序列分析中的应用。

### 3.2 字典
- 用 `{"ticker": "...", "price": ...}` 结构表示资产对象属性。
- 展示嵌套字典管理多个金融产品配置。
- 强调键命名一致性与缺失键处理。

### 3.3 集合
- 用集合进行交易日期、事件标签、客户编号去重。
- 说明交集、并集、差集在风险事件筛选中的作用。
- 对比列表去重与集合去重的效率和语义差异。

### 3.4 案例：多资产收益数据管理
- 输入多资产收益序列。
- 计算每个资产的累计收益与简单统计结果。
- 输出统一结构，供后续函数封装与文件存储使用。

## 4. 实验与实践建议

- 实验 1：构建“资产列表 + 参数字典”数据样本。
- 实验 2：完成事件标签去重与交并差筛选任务。
- 实验 3：实现多资产收益汇总程序，输出结构化结果。

## 5. 本章交付物

- `asset_data_structures_demo.py`
- `multi_asset_return_manager.py`

## 6. 与前后章节衔接

- 前置依赖：第3章循环与条件逻辑。
- 后续衔接：第5章将把本章数据结构输入到函数中，形成模块化计算接口。

## 7. 教学提示

- 本章关键是“为什么选这种数据结构”，而不是只会语法调用。
- 建议每个任务写出“结构选择理由”一行说明。
